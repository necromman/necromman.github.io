<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<title>모든 트래픽은 여기를 지난다 — Editorial</title>
<meta name="description" content="Traefik은 사내 인프라의 관문이다. 도메인 기반 라우팅, 자동 SSL 인증서, Consul 연동 서비스 디스커버리, 로드 밸런싱, 미들웨어까지. 리버스 프록시의 5가지 핵심 기능 해부.">
<link rel="canonical" href="https://necromman.github.io/editorial/content/server-infra-guide-series/traefik-the-gatekeeper.html">
<meta property="og:type" content="article">
<meta property="og:title" content="모든 트래픽은 여기를 지난다">
<meta property="og:description" content="Traefik은 사내 인프라의 관문이다. 도메인 기반 라우팅, 자동 SSL 인증서, Consul 연동 서비스 디스커버리, 로드 밸런싱, 미들웨어까지.">
<meta property="og:url" content="https://necromman.github.io/editorial/content/server-infra-guide-series/traefik-the-gatekeeper.html">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Editorial">
<meta property="article:published_time" content="2026-02-09">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="모든 트래픽은 여기를 지난다">
<meta name="twitter:description" content="Traefik은 사내 인프라의 관문이다. 도메인 기반 라우팅, 자동 SSL 인증서, Consul 연동 서비스 디스커버리, 로드 밸런싱, 미들웨어까지.">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"Article","headline":"모든 트래픽은 여기를 지난다","description":"Traefik은 사내 인프라의 관문이다. 도메인 기반 라우팅, 자동 SSL 인증서, Consul 연동 서비스 디스커버리, 로드 밸런싱, 미들웨어까지. 리버스 프록시의 5가지 핵심 기능 해부.","datePublished":"2026-02-09","dateModified":"2026-02-09","publisher":{"@type":"Organization","name":"Editorial"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://necromman.github.io/editorial/content/server-infra-guide-series/traefik-the-gatekeeper.html"}}
</script>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="../../assets/editorial-base.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">
<script>(function(){var t=localStorage.getItem('editorial-theme');if(!t)t=window.matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light';document.documentElement.setAttribute('data-theme',t)})()</script>
<style>
  .masthead .deck { max-width: 560px; }

  /* CODE BLOCK */
  .code-block {
    background: var(--card-bg);
    border: 1px solid var(--rule);
    padding: 20px 24px;
    font-family: var(--mono);
    font-size: 0.76rem;
    line-height: 1.75;
    overflow-x: auto;
    white-space: pre;
    margin: 24px 0;
    color: var(--prose);
    border-radius: 0;
  }
  .code-block .code-label {
    font-size: 0.6rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--accent);
    display: block;
    margin-bottom: 12px;
    font-weight: 700;
  }
  .code-block .code-comment {
    color: var(--muted);
  }

  /* FEATURE CARD */
  .feature-card {
    border-left: 3px solid var(--accent);
    background: var(--card-bg);
    padding: 28px 28px;
    margin: 32px 0;
  }
  .feature-card .fc-num {
    font-family: var(--mono);
    font-size: 0.6rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--accent);
    font-weight: 700;
    display: block;
    margin-bottom: 8px;
  }
  .feature-card h3 {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--fg);
    margin-bottom: 12px;
  }
  .feature-card p {
    font-size: 0.92rem;
    line-height: 1.85;
    color: var(--prose);
  }
  .feature-card p + p {
    margin-top: 10px;
  }
  .feature-card p strong {
    color: var(--fg);
    font-weight: 700;
  }

  /* ROUTING EXAMPLE */
  .route-grid {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 0;
    align-items: center;
    margin: 32px 0;
  }
  .route-from, .route-to {
    background: var(--card-bg);
    border: 1px solid var(--rule);
    padding: 20px 16px;
    text-align: center;
  }
  .route-from .rf-domain {
    font-family: var(--mono);
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--fg);
    display: block;
  }
  .route-arrow {
    font-family: var(--mono);
    font-size: 0.85rem;
    color: var(--accent);
    padding: 0 12px;
    font-weight: 700;
  }
  .route-to .rt-ip {
    font-family: var(--mono);
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--accent);
    display: block;
  }
  .route-to .rt-name {
    font-size: 0.75rem;
    color: var(--muted);
  }

  /* COMPARE COLUMNS */
  .compare-cols {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1px;
    background: var(--rule);
    border: 1px solid var(--rule);
    margin: 40px 0 48px;
  }
  .compare-col {
    background: var(--bg);
    padding: 32px 28px;
  }
  .compare-col .col-label {
    font-family: var(--serif);
    font-size: 0.8rem;
    letter-spacing: 2px;
    color: var(--accent);
    font-weight: 700;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--fg);
  }
  .compare-col .col-item {
    font-size: 0.88rem;
    color: var(--secondary);
    line-height: 1.75;
    padding: 10px 0;
    border-bottom: 1px solid var(--rule);
  }
  .compare-col .col-item:last-child {
    border-bottom: none;
  }
  .compare-col .col-item strong {
    color: var(--fg);
    font-weight: 700;
  }

  @media (max-width: 700px) {
    .route-grid { grid-template-columns: 1fr; gap: 0; }
    .route-arrow {
      font-size: 0;
      text-align: center;
      padding: 8px 0;
    }
    .route-arrow::after {
      content: '\2193';
      font-size: 0.85rem;
    }
    .compare-cols { grid-template-columns: 1fr; }
    .code-block { padding: 16px 18px; font-size: 0.7rem; }
    .feature-card { padding: 20px 20px; }
  }
</style>
<script src="../../assets/nav.js" defer></script>
<script src="../../assets/series-nav.js" defer></script>
<script src="../../assets/theme-toggle.js" defer></script>
</head>
<body>
<div class="page">

  <header class="masthead">
    <div class="issue">server infra guide series — article 02</div>
    <h1>모든 트래픽은<br><strong>여기를 지난다</strong></h1>
    <p class="deck">Traefik은 리버스 프록시이자 로드 밸런서다. 외부 요청을 받아 도메인별로 분배하고, SSL 인증서를 자동 발급하고, 새 서비스를 자동 감지한다. 인프라의 관문이 하는 일을 해부한다.</p>
  </header>

  <!-- PART I -->
  <section>
    <div class="section-head">
      <span class="num">Part I</span>
      <h2>Traefik이란 무엇인가</h2>
    </div>

    <p class="prose">Traefik(192.168.0.230)은 <strong>리버스 프록시(Reverse Proxy)</strong>이자 <strong>로드 밸런서(Load Balancer)</strong>다. 인프라에서 관문(Gateway) 역할을 수행한다.</p>

    <p class="prose">리버스 프록시란 클라이언트와 백엔드 서버 사이에 위치하여, 클라이언트의 요청을 대신 받아 적절한 서버로 전달하는 중간자다. 사용자는 실제 서버의 IP 주소를 알 필요가 없다. <code>gitlab.yourdomain.com</code>에 접속하면 Traefik이 알아서 <code>192.168.0.232</code>로 연결해준다.</p>

    <div class="pull-quote">
      <p>사용자는 도메인만 알면 된다.<br>나머지는 <strong>Traefik이 처리한다.</strong></p>
    </div>

    <p class="prose">Nginx나 HAProxy 같은 전통적인 리버스 프록시와 달리 Traefik의 강점은 <strong>자동화</strong>에 있다. 설정 파일을 수동으로 편집하지 않아도 새 서비스가 뜨면 자동으로 라우팅 규칙이 생성된다. Docker 라벨이나 Consul 서비스 등록만으로 끝이다.</p>
  </section>

  <!-- PART II -->
  <section>
    <div class="section-head">
      <span class="num">Part II</span>
      <h2>5가지 핵심 기능</h2>
    </div>

    <div class="feature-card">
      <span class="fc-num">Feature 01</span>
      <h3>트래픽 라우팅</h3>
      <p>외부 요청을 도메인/경로 기반으로 백엔드 서버에 자동 분배한다. 하나의 IP에서 여러 서비스를 도메인으로 구분하여 운영할 수 있다.</p>
    </div>

    <div style="font-family:var(--serif);font-size:0.8rem;letter-spacing:2px;color:var(--muted);font-weight:700;margin:32px 0 16px">라우팅 예시</div>

    <div class="route-grid">
      <div class="route-from">
        <span class="rf-domain">gitlab.yourdomain.com</span>
      </div>
      <span class="route-arrow">&rarr;</span>
      <div class="route-to">
        <span class="rt-ip">192.168.0.232</span>
        <span class="rt-name">Private GitLab</span>
      </div>
    </div>

    <div class="route-grid">
      <div class="route-from">
        <span class="rf-domain">axconnect.yourdomain.com</span>
      </div>
      <span class="route-arrow">&rarr;</span>
      <div class="route-to">
        <span class="rt-ip">192.168.0.231</span>
        <span class="rt-name">Ax-Connect</span>
      </div>
    </div>

    <div class="route-grid">
      <div class="route-from">
        <span class="rf-domain">evan-app.yourdomain.com</span>
      </div>
      <span class="route-arrow">&rarr;</span>
      <div class="route-to">
        <span class="rt-ip">192.168.0.204:8080</span>
        <span class="rt-name">Evan Dev Server</span>
      </div>
    </div>

    <div class="feature-card">
      <span class="fc-num">Feature 02</span>
      <h3>자동 SSL 인증서 관리</h3>
      <p><strong>Let's Encrypt</strong>와 연동하여 HTTPS 인증서를 자동으로 발급하고 갱신한다. 개발자가 인증서를 수동으로 발급하거나 만료일을 관리할 필요가 없다. 모든 도메인의 인증서가 한 곳에서 관리된다.</p>
      <p>이것이 <strong>중앙 집중형 SSL 관리</strong>가 필수인 이유다. 여러 서버에서 각자 인증서를 발급하면 Let's Encrypt의 Rate Limit(주당 50개)에 걸릴 수 있고, 인증서 갱신 실패를 추적하기 어렵다.</p>
    </div>

    <div class="feature-card">
      <span class="fc-num">Feature 03</span>
      <h3>서비스 디스커버리</h3>
      <p><strong>Consul(233~235)</strong>과 연동하여 새 서비스가 등록되면 자동으로 라우팅 규칙을 생성한다. Docker 컨테이너에 라벨을 붙이거나, Consul에 서비스를 등록하면 Traefik이 이를 감지한다.</p>
      <p>설정 파일을 수동으로 편집하고 Traefik을 재시작할 필요가 없다. <strong>서비스가 뜨면 자동으로 접근 가능해진다.</strong></p>
    </div>

    <div class="feature-card">
      <span class="fc-num">Feature 04</span>
      <h3>로드 밸런싱</h3>
      <p>동일한 역할을 하는 서버가 여러 대일 때 트래픽을 분산한다. Consul 클러스터(233~235)가 대표적인 예다. 3대의 Consul 서버에 요청을 고르게 분배하여 한 대에 부하가 집중되는 것을 방지한다.</p>
    </div>

    <div class="feature-card">
      <span class="fc-num">Feature 05</span>
      <h3>미들웨어</h3>
      <p>서비스 코드를 수정하지 않고 <strong>프록시 레벨에서</strong> 다양한 기능을 처리한다.</p>
      <p><strong>인증</strong> — 특정 서비스에 Basic Auth나 IP 화이트리스트 적용. <strong>Rate Limiting</strong> — 초당 요청 수 제한으로 남용 방지. <strong>헤더 조작</strong> — 보안 헤더 추가, CORS 설정. 이 모든 것이 백엔드 서비스의 코드 변경 없이 가능하다.</p>
    </div>
  </section>

  <!-- PART III -->
  <section>
    <div class="section-head">
      <span class="num">Part III</span>
      <h2>왜 Traefik은 하나여야 하는가</h2>
    </div>

    <p class="prose">Traefik이 인프라의 관문이라면, <strong>관문은 하나</strong>여야 한다. 두 개의 Traefik이 동일한 인프라를 바라보면 무엇이 일어나는가.</p>

    <div class="compare-cols">
      <div class="compare-col">
        <div class="col-label">중앙 Traefik 1대</div>
        <div class="col-item"><strong>라우팅 경로가 단일</strong>하다. 모든 트래픽이 예측 가능하게 흐른다.</div>
        <div class="col-item"><strong>SSL 인증서가 한 곳</strong>에서 관리된다. Rate Limit 걱정 없다.</div>
        <div class="col-item"><strong>Consul 연동이 깔끔</strong>하다. 하나의 디스커버리 경로.</div>
        <div class="col-item"><strong>접근 제어가 통일</strong>된다. 미들웨어 정책이 일관적이다.</div>
      </div>
      <div class="compare-col">
        <div class="col-label">Traefik 2대 (이중 설치)</div>
        <div class="col-item"><strong>라우팅이 이중 경로</strong>를 생성한다. 어느 Traefik을 타는지 예측 불가.</div>
        <div class="col-item"><strong>SSL 인증서 충돌</strong>. 두 곳에서 발급 요청 시 Rate Limit 초과 위험.</div>
        <div class="col-item"><strong>Consul 디스커버리 충돌</strong>. 각자 다른 규칙 적용 가능.</div>
        <div class="col-item"><strong>접근 제어 사각지대</strong> 발생. 보안 정책이 일관되지 않는다.</div>
      </div>
    </div>

    <p class="prose">이것이 개발자 서버에 별도 Traefik을 설치하면 안 되는 핵심 이유다. 중앙 Traefik(230)에 라우팅 규칙을 추가하는 것이 정석이다.</p>

    <div class="code-block"><span class="code-label">올바른 방법 — 중앙 Traefik에 라우팅 추가</span>
<span class="code-comment"># evan의 개발 서비스를 외부에 노출할 때</span>
<span class="code-comment"># Traefik(230) 설정에 규칙을 추가한다</span>

evan-app.yourdomain.com  →  192.168.0.204:8080

<span class="code-comment"># SSL, 인증, Rate Limit 모두 중앙에서 통제</span>
<span class="code-comment"># 개발자 서버에 Traefik을 설치하지 않는다</span></div>
  </section>

  <!-- WARNING -->
  <div class="warning-box">
    <div class="w-title">Traefik 관련 주의사항</div>
    <ol class="warning-list">
      <li>개발자 서버에 Traefik, Nginx, HAProxy 등 리버스 프록시를 설치하지 않는다</li>
      <li>Let's Encrypt 인증서를 개별 서버에서 발급하지 않는다 — 중앙 Traefik이 담당한다</li>
      <li>Consul에 서비스를 수동으로 등록하려 하지 않는다 — Docker 라벨 또는 설정 파일을 사용한다</li>
      <li>외부 접근이 필요한 서비스가 있으면 인프라 관리자에게 Traefik 라우팅 추가를 요청한다</li>
      <li>Traefik Dashboard(8080 포트)에 무단 접근하지 않는다 — 라우팅 전체를 볼 수 있는 민감 화면이다</li>
    </ol>
  </div>

  <!-- CLOSING -->
  <div class="closing">
    <h2>관문이 하나여야<br><strong>인프라가 안전하다</strong></h2>
    <p class="sub">Traefik의 역할을 이해했다면, 이제 개발자 서버에서 할 수 있는 것과 없는 것을 구분할 차례다.</p>
  </div>

  <footer class="footer">
    <p>Sources: Traefik Official Documentation &middot; Let's Encrypt Rate Limits &middot; HashiCorp Consul Service Discovery</p>
    <p>Research assisted by Claude &middot; 2026</p>
  </footer>

</div>
</body>
</html>
