# Prompt-Driven Technical Guide Skill

> 코드를 쓰지 않는 기술 가이드. 구성도로 설득하고, 프롬프트로 행동시킨다.

## 핵심 철학

**검색 패러다임이 바뀌었다.** 독자는 코드를 "읽으러" 오지 않는다. 어떻게 구성하는지를 "이해하러" 오고, 자기 AI에게 시켜서 코드를 "만들러" 간다. 블로그의 역할은 **구조를 보여주고, 복붙 가능한 프롬프트를 건네는 것**이다.

### 3대 원칙

1. **코드 금지** — 기사 본문에 실행 가능한 코드를 넣지 않는다. 코드는 독자의 AI가 생성한다.
2. **구성도 우선** — 시스템 아키텍처, 데이터 흐름, 계층 구조를 CSS 다이어그램으로 보여준다.
3. **프롬프트가 CTA** — 매 섹션 끝에 복붙 프롬프트를 제공한다. 독자가 움직여야 글의 가치가 완성된다.

---

## 콘텐츠 구조

기존 editorial-content-page 스킬의 디자인 시스템(타이포그래피, 색상, 컴포넌트)을 그대로 따르되, **콘텐츠 패턴**이 다르다.

### 섹션 구성 공식

```
[개념 설명] — 2~3문단 prose, "이것이 뭔지" 설득
[구성도] — CSS 다이어그램으로 구조 시각화
[핵심 판단 기준] — 비교표/경고 박스로 선택지 정리
[프롬프트 박스] — 코드/아키텍처 생성용 복붙 프롬프트
```

### 금지 항목

| 금지 | 대체 |
|------|------|
| 인라인 코드 블록 (`<pre>`, `.terminal`) | 프롬프트 박스 (`.prompt-box`) |
| "아래 코드를 복사하세요" | "아래 프롬프트를 AI에 붙여넣으세요" |
| 특정 언어 종속 설명 | 언어 중립적 구조 설명 + 언어별 프롬프트 |
| 장황한 개념 나열 | 구성도 1개 > 설명 10줄 |
| "~란 무엇인가" 형식의 사전적 정의 | "이렇게 생겼고, 이렇게 연결된다" 구조 설명 |

### 허용 항목

| 허용 | 용도 |
|------|------|
| JSON 설정 파일 (7줄 이하) | MCP 설정, 환경 변수 등 "설정"은 코드가 아니다 |
| 의사 코드 (pseudocode) | 흐름 설명용, 실행 불가능한 형태 |
| CLI 명령어 1~2줄 | `pip install`, `npx` 등 설치/실행 명령 |

---

## 프롬프트 박스 작성 규칙

프롬프트 박스(`.prompt-box`)는 이 스킬의 핵심 컴포넌트다. 독자가 ChatGPT/Claude/Gemini에 복붙해서 즉시 결과를 얻어야 한다.

### 프롬프트 3계층

```
[아키텍처 프롬프트] — 시스템 구성도, ERD, 시퀀스 다이어그램 생성
[코드 프롬프트] — 실제 구현 코드 생성 (Python/TypeScript/Java 등)
[검증 프롬프트] — 보안, 성능, 확장성 리스크 점검
```

### 프롬프트 작성 공식

**나쁜 프롬프트:**
```
Function Calling 코드 보여줘
```
→ 범용적이고 맥락 없는 결과. 독자가 추가 질문을 3~4번 해야 쓸 수 있는 코드가 나온다.

**좋은 프롬프트 구조:**

```
[역할 지정] + [구체적 기술 스택] + [필수 포함 사항] + [금지/주의 사항] + [출력 형식]
```

### 프롬프트 필수 포함 요소

모든 코드 생성 프롬프트에 다음을 반영한다:

1. **기술 스택 명시** — 프레임워크, SDK 버전, 런타임 환경
2. **확장성 고려** — "도구가 10개, 50개로 늘어날 때도 동작하는 구조로"
3. **에러 처리** — "API 타임아웃, 인증 실패, 잘못된 인자 케이스 포함"
4. **보안 경고** — "API 키 하드코딩 금지, 환경 변수 사용, 입력 검증 포함"
5. **흔한 실수 방지** — 해당 기술의 대표적 함정을 프롬프트에 명시
6. **출력 형식** — "파일별로 분리해서", "주석 포함해서", "테스트 코드도 같이"

### 프롬프트 예시 패턴

**코드 생성 프롬프트:**
```
[기술명]을 [프레임워크] + [언어]로 구현해줘.

필수 포함:
- [기능 A]: [구체적 요구사항]
- [기능 B]: [구체적 요구사항]
- 에러 처리: [구체적 시나리오 2~3개]
- 테스트: [단위 테스트 / 통합 테스트]

주의사항:
- [흔한 실수 1]하지 마
- [흔한 실수 2] 대신 [올바른 방법] 사용
- API 키는 환경 변수로, .env.example 파일도 같이 만들어줘

파일 구조: 모듈별로 분리하고, 진입점 파일에서 import하는 구조로.
```

**아키텍처 프롬프트:**
```
[시스템명]의 아키텍처를 설계해줘.

구성 요소:
- [컴포넌트 A]: [역할]
- [컴포넌트 B]: [역할]
- 통신 방식: [프로토콜/패턴]

다이어그램: Mermaid 문법으로 시퀀스 다이어그램 + 컴포넌트 다이어그램 각각 그려줘.

확장 시나리오:
- 사용자 100명 → 10,000명일 때 병목 지점과 대응
- 새 [컴포넌트 C]를 추가할 때 기존 구조 변경 최소화 방안

보안 체크:
- 인증/인가 흐름
- 데이터 암호화 지점
- 외부 API 키 관리 방법
```

**검증 프롬프트:**
```
위 코드/아키텍처를 다음 기준으로 리뷰해줘:

1. 보안: OWASP Top 10 중 해당되는 항목
2. 성능: N+1 쿼리, 불필요한 API 호출, 메모리 누수
3. 확장성: 도구/사용자가 10배 늘어날 때 문제점
4. 운영: 로깅, 모니터링, 에러 추적 누락 여부
5. 비용: API 호출 횟수, 토큰 소비 최적화

문제가 있으면 수정된 코드도 같이 보여줘.
```

---

## 구성도(다이어그램) 작성 규칙

코드 대신 독자를 설득하는 핵심 수단이 구성도다. CSS로 만든다.

### 구성도 유형

| 유형 | 용도 | CSS 패턴 |
|------|------|----------|
| **등식 다이어그램** | A + B + C = 결과 | `.dia-eq-row` + `.dia-eq-box` + `.dia-eq-op` |
| **계층 다이어그램** | 레이어 구조 (클라이언트 → 서버 → DB) | `.arch-layer` + `.flow-arrow` |
| **비교 다이어그램** | Before/After, A vs B | `.dia-cmp` 2컬럼 그리드 |
| **흐름 다이어그램** | 단계별 프로세스 | `.step-flow` + `.step` + `.flow-arrow` |
| **타임라인** | 시간순 이벤트 | `.timeline` |
| **통계** | 숫자로 임팩트 전달 | `.stat-row` + `.stat-cell` |

### 구성도 작성 원칙

1. **한 구성도, 한 메시지** — 하나의 다이어그램은 하나의 핵심만 전달한다
2. **3~5 노드** — 노드가 6개 넘으면 분리한다. 복잡한 구성도는 설득력이 떨어진다
3. **연결선 = 흐름** — `flow-arrow`로 데이터/제어 흐름 방향을 명확히 한다
4. **라벨 필수** — 모든 박스에 계층 라벨(영문 모노스페이스)과 제목(한글)을 붙인다
5. **비교는 2컬럼** — 장단점, Before/After는 반드시 `.dia-cmp` 2컬럼으로

### 구성도에도 프롬프트를 제공한다

독자가 자기 시스템에 맞는 구성도를 그리고 싶을 때를 위해:

```
[시스템명]의 아키텍처를 Mermaid 다이어그램으로 그려줘.

포함할 컴포넌트: [A], [B], [C]
통신 프로토콜: [REST/gRPC/WebSocket/stdio]
데이터 흐름: [사용자 요청 → ... → 응답] 전체 경로

graph TD 형식으로, 각 노드에 기술 스택 라벨을 붙여줘.
```

---

## 기사 전체 구조 템플릿

```
Part I — 개념 (The Concept)
  - "이것이 뭔지" 2~3문단
  - 등식 다이어그램 (A + B + C = 결과)
  - 카드 그리드 (핵심 구성 요소 3~4개 요약)

Part II — 구조 (The Architecture)
  - "이렇게 연결된다" 구조 설명
  - 계층 다이어그램 또는 흐름 다이어그램
  - 비교 다이어그램 (기존 방식 vs 새 방식)
  - [프롬프트 박스] 아키텍처 생성 프롬프트

Part III — 판단 기준 (The Decision)
  - "이럴 때 이걸 쓴다" 선택 가이드
  - 비교표 또는 의사결정 트리
  - 경고 박스 (흔한 실수, 숨은 비용)
  - [프롬프트 박스] 코드 생성 프롬프트 (언어별 2~3개)

Part IV — 검증 (The Checklist) [선택]
  - 체크리스트 또는 경고 박스
  - [프롬프트 박스] 검증 프롬프트

Closing — 한 줄 요약
Footer — 출처
```

---

## 프롬프트 박스 HTML 구조

```html
<div class="prompt-box">
  <div class="pb-label">코드가 필요하다면</div>
  <p class="pb-desc">아래 프롬프트를 AI에 붙여넣으세요. Python, TypeScript, Java 중 원하는 스택을 골라 수정하세요.</p>
  <div class="pb-prompt">[구체적이고 복붙 가능한 프롬프트]</div>
  <div class="pb-prompt">[다른 스택/관점의 프롬프트]</div>
</div>
```

### 프롬프트 박스 디자인 규칙

- `.pb-prompt`는 Claude 입력창 스타일: **border-radius: 16px**, 둥근 모서리
- 각 `.pb-prompt`에 **복사 버튼**이 동적 삽입됨 (JavaScript)
- 복사 버튼: 우측 상단, "복사" → 클릭 시 "복사됨" 1.5초 후 복원
- `.pb-prompt`의 `padding-right`는 복사 버튼 공간을 확보 (68px 이상)
- 모바일에서 `border-radius: 12px`로 축소, 패딩 조정

### 복사 버튼 스크립트 (페이지 하단에 필수)

```html
<script>
document.querySelectorAll('.pb-prompt').forEach(function(el) {
  var text = el.textContent.trim();
  var btn = document.createElement('button');
  btn.className = 'pb-copy';
  btn.textContent = '복사';
  btn.setAttribute('aria-label', '프롬프트 복사');
  btn.addEventListener('click', function() {
    navigator.clipboard.writeText(text).then(function() {
      btn.textContent = '복사됨';
      btn.classList.add('copied');
      setTimeout(function() {
        btn.textContent = '복사';
        btn.classList.remove('copied');
      }, 1500);
    });
  });
  el.appendChild(btn);
});
</script>
```

**주의:** 스크립트는 `</article>` 뒤, `</div class="page">` 앞에 배치한다. 텍스트를 버튼 삽입 전에 캡처하므로 복사 시 버튼 텍스트가 포함되지 않는다.

### pb-label 패턴

| 상황 | 라벨 |
|------|------|
| 코드 생성 | "코드가 필요하다면" |
| 아키텍처 생성 | "시스템 구성도가 필요하다면" |
| 다른 언어 | "다른 언어로 구현하고 싶다면" |
| 검증 | "리뷰가 필요하다면" |
| 심화 학습 | "더 깊게 이해하고 싶다면" |
| 커스터마이징 | "내 환경에 맞추고 싶다면" |

### pb-desc 패턴

- "아래 프롬프트를 Claude나 ChatGPT에 붙여넣으세요."
- "대괄호 [ ] 안의 내용을 자신의 환경에 맞게 수정하세요."
- "프롬프트 하나로 전체 프로젝트 구조를 받을 수 있습니다."

---

## 독자 행동 유도 전략

### 프롬프트의 배치 리듬

- **Part마다 최소 1개** — 섹션을 읽고 나면 바로 행동할 수 있어야 한다
- **난이도 순서** — 첫 프롬프트는 가장 기본적인 것, 뒤로 갈수록 심화
- **점진적 구체화** — Part I 프롬프트는 개념 이해용, Part III 프롬프트는 프로덕션 코드용

### 프롬프트 난이도 표시

프롬프트 박스 내에서 난이도를 암시한다:

```
첫 번째 프롬프트: 기본 구현 (입문)
두 번째 프롬프트: 다른 스택/심화 옵션 (중급)
세 번째 프롬프트: 프로덕션 고려사항 포함 (실전)
```

---

## 체크리스트

### 콘텐츠 검증

- [ ] 실행 가능한 코드 블록이 본문에 없는가 (설정 파일 7줄 이하, CLI 1~2줄은 허용)
- [ ] 모든 Part에 구성도가 최소 1개 있는가
- [ ] 모든 Part에 프롬프트 박스가 최소 1개 있는가
- [ ] 프롬프트에 기술 스택, 에러 처리, 보안 주의사항이 포함되어 있는가
- [ ] 프롬프트에 흔한 실수 방지 조건이 있는가
- [ ] 프롬프트의 대괄호 [ ] 부분이 독자가 수정할 곳으로 명확한가
- [ ] "코드를 보여준다"가 아니라 "구조를 보여주고 프롬프트를 건넨다" 톤인가
- [ ] 장황한 개념 설명 없이 구성도로 대체했는가

### 프롬프트 품질

- [ ] 프롬프트를 실제로 AI에 넣어봤을 때 동작하는 결과가 나오는가
- [ ] 역할 지정 + 기술 스택 + 필수 포함 + 주의 사항 + 출력 형식이 갖춰져 있는가
- [ ] 확장성 시나리오가 포함되어 있는가 (도구 10개→50개, 사용자 100→10000)
- [ ] 보안 체크가 포함되어 있는가 (API 키 관리, 입력 검증, 권한 제어)
- [ ] 언어/프레임워크 중립적 프롬프트와 특정 스택 프롬프트가 분리되어 있는가

### 디자인 검증 (editorial-content-page 스킬과 공통)

- [ ] 하드코딩 색상 없음 (CSS 변수만)
- [ ] 모바일 반응형 (700px 이하 1컬럼 전환)
- [ ] 한글 라벨에 모노스페이스 미사용
- [ ] 이모지, 이탤릭, 그라디언트 없음

---

## 다른 스킬과의 관계

| 스킬 | 관계 |
|------|------|
| **editorial-content-page** | 디자인 시스템(타이포, 색상, 컴포넌트) 전체 상속. 이 스킬은 "콘텐츠 패턴"만 정의 |
| **seo** | front matter, 시맨틱 HTML, sitemap 규칙 그대로 적용 |
| **series-plan** | 기획 단계에서 "어떤 프롬프트를 제공할지"도 기획에 포함 |
| **common-css** | 프롬프트 박스(`.prompt-box`), 구성도(`.dia-*`, `.arch-*`) CSS는 editorial-base.css 또는 페이지 `<style>`에 정의 |
